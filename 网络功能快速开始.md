# 网络功能快速开始指南

## 5分钟快速测试

### 步骤1：选择测试服务器

**选项A：Python Flask（推荐，简单）**

1. 安装Python（如果还没有）
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
3. 启动服务器：
   ```bash
   python test_server.py
   ```

**选项B：Node.js Express**

1. 安装Node.js（如果还没有）
2. 安装依赖：
   ```bash
   npm install
   ```
3. 启动服务器：
   ```bash
   npm start
   # 或
   node test_server.js
   ```

### 步骤2：验证服务器运行

打开浏览器访问：`http://localhost:8080/api/health`

应该看到：
```json
{
  "status": "ok",
  "message": "服务器运行正常"
}
```

### 步骤3：在Qt Creator中运行项目

1. 打开Qt Creator
2. 打开项目 `exp_PesernoalWork.pro`
3. 确保项目配置正确（已包含network模块）
4. 运行项目（F5或点击运行按钮）

### 步骤4：测试网络功能

1. **登录系统**（任意角色）

2. **测试获取类别**：
   - 点击菜单 "网络" -> "获取活动类别"
   - 应该看到类别列表对话框

3. **测试获取公告**：
   - 点击菜单 "网络" -> "获取公告"
   - 应该看到公告列表对话框

4. **测试活动同步**：
   - 以管理员身份登录
   - 发布一个活动
   - 批准该活动
   - 系统会自动同步，查看同步结果提示

## 验证清单

- [ ] 测试服务器成功启动（端口8080）
- [ ] 浏览器可以访问 `http://localhost:8080/api/health`
- [ ] Qt应用程序可以获取活动类别
- [ ] Qt应用程序可以获取公告
- [ ] 活动批准后可以成功同步

## 常见问题快速解决

### 问题1：端口被占用

**错误信息**：`Address already in use` 或 `端口已被占用`

**解决方法**：
1. 查找占用端口的程序：
   ```bash
   # Windows
   netstat -ano | findstr :8080
   
   # Linux/Mac
   lsof -i :8080
   ```
2. 关闭占用端口的程序，或修改服务器端口

### 问题2：无法连接服务器

**错误信息**：`连接被拒绝` 或 `Connection refused`

**解决方法**：
1. 确认测试服务器正在运行
2. 检查防火墙设置
3. 确认Qt中的baseUrl配置正确：`http://localhost:8080/api`

### 问题3：Python/Node.js未安装

**解决方法**：
- Python: 从 https://www.python.org/ 下载安装
- Node.js: 从 https://nodejs.org/ 下载安装

## 下一步

- 查看 `网络功能实现指南.md` 了解详细配置
- 修改测试服务器代码以匹配实际需求
- 添加更多API端点
- 配置生产环境服务器

